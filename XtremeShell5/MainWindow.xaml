<Window
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:av="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="av" x:Class="XtremeShell5.MainWindow"
        Title="XtremeShell" Height="700" Width="1010" Background="#1f070f"
        FontFamily="pack://application:,,,/Fonts/#Poppins"
        ResizeMode="NoResize"
        WindowStyle="SingleBorderWindow">
    <Window.Resources>
        <Style TargetType="{x:Type TabItem}">
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/#Poppins"/>
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabItem}">
                        <Border x:Name="Border"
                        Margin="5"
                        Padding="12,6"
                        CornerRadius="5"
                        Background="#36212a">
                            <ContentPresenter x:Name="ContentSite"
                                      VerticalAlignment="Center"
                                      HorizontalAlignment="Center"
                                      ContentSource="Header"
                                      RecognizesAccessKey="True"
                                      />
                        </Border>
                        <ControlTemplate.Triggers>
                            <!-- Selected -->
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#B82A5A"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                            <!-- Hover when NOT selected -->
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsMouseOver" Value="True"/>
                                    <Condition Property="IsSelected" Value="False"/>
                                </MultiTrigger.Conditions>
                                <Setter TargetName="Border" Property="Background" Value="#444459"/>
                                <Setter Property="Foreground" Value="White"/>
                            </MultiTrigger>
                            <!-- Disabled -->
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Border" Property="Opacity" Value="0.4"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="{x:Type TabControl}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabControl}">
                        <Grid ClipToBounds="True">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <!-- Tab headers -->
                            <TabPanel x:Name="HeaderPanel"
                                      Grid.Row="0"
                                      IsItemsHost="True"
                                      Background="Transparent"
                                      Margin="0,0,0,4"/>
                            <!-- Rounded content area -->
                            <Border Grid.Row="1"
                                    Background="#290914"
                                    CornerRadius="12"
                                    Padding="10">
                                <ContentPresenter x:Name="PART_SelectedContentHost"
                                                  Margin="0"
                                                  ContentSource="SelectedContent"/>
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="{x:Type Button}">
            <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/#Poppins"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="#2A2A3B"/>
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="border"
                        Background="{TemplateBinding Background}"
                        CornerRadius="4"
                        SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center"
                                      VerticalAlignment="Center"
                                      RecognizesAccessKey="True"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <!-- Hover -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#B82A5A"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                            <!-- Pressed -->
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#A0204F"/>
                            </Trigger>
                            <!-- Disabled -->
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#444459"/>
                                <Setter Property="Foreground" Value="#888888"/>
                                <Setter Property="Opacity" Value="0.6"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Grid>
        <TabControl 
            x:Name="RootTabs"
            Margin="20"
                    Background="#290914"
                    BorderThickness="0"
                    Padding="10">
            <TabItem Header="Home" IsSelected="True">
                <TabItem.Resources>
                    <Style x:Key="SecondaryButton" TargetType="{x:Type Button}">
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/#Poppins"/>
                        <Setter Property="FontSize" Value="16"/>
                        <Setter Property="Padding" Value="16,10"/>
                        <Setter Property="Background" Value="#4A2E3A"/>
                        <Setter Property="BorderBrush" Value="#6B4C57"/>
                        <Setter Property="BorderThickness" Value="1"/>
                        <Setter Property="Cursor" Value="Hand"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="{x:Type Button}">
                                    <Border x:Name="b"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1"
                                CornerRadius="4">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="b" Property="Background" Value="#5A3E4A"/>
                                        </Trigger>
                                        <Trigger Property="IsEnabled" Value="False">
                                            <Setter TargetName="b" Property="Background" Value="#444459"/>
                                            <Setter Property="Foreground" Value="#888888"/>
                                            <Setter Property="Opacity" Value="0.6"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                    <Style x:Key="PrimaryButton" TargetType="{x:Type Button}" BasedOn="{StaticResource SecondaryButton}">
                        <Setter Property="Background" Value="#8B2635"/>
                        <Setter Property="BorderBrush" Value="#A53D4A"/>
                        <Setter Property="FontSize" Value="16"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#9E3040"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </TabItem.Resources>
                <Grid Background="#290914" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                    <TextBlock HorizontalAlignment="Left" Margin="10,8,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Text="Privacy" FontSize="20"/>
                    <TextBlock HorizontalAlignment="Left" Margin="10,41,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Text="Gaming" FontSize="20"/>
                    <TextBlock HorizontalAlignment="Left" Margin="10,72,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Text="Files" FontSize="20"/>
                    <TextBlock HorizontalAlignment="Left" Margin="10,103,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Text="Updates" FontSize="20"/>
                    <Button x:Name="UniEdge"            Content="Uninstall Edge"                Style="{StaticResource SecondaryButton}" HorizontalAlignment="Left" Margin="119,12,0,0" VerticalAlignment="Top" Width="195" Click="button_Click"/>
                    <Button x:Name="DisableAds"         Content="Disable Ads"                   Style="{StaticResource SecondaryButton}" HorizontalAlignment="Left" Margin="764,12,0,0" VerticalAlignment="Top" Width="168" Click="button_Click"/>
                    <Button x:Name="DisableTelemetry"   Content="Disable Telemetry"              Style="{StaticResource SecondaryButton}" HorizontalAlignment="Left" Margin="532,12,0,0" VerticalAlignment="Top" Width="227" Click="button_Click"/>
                    <Button x:Name="UltPwrPl"           Content="Enable Ultimate Power Plan"     Style="{StaticResource SecondaryButton}" HorizontalAlignment="Left" Margin="119,44,0,0" VerticalAlignment="Top" Width="400" Click="button_Click"/>
                    <Button x:Name="StickyKeys"         Content="Disable Sticky Keys Hotkey"     Style="{StaticResource SecondaryButton}" HorizontalAlignment="Left" Margin="532,44,0,0" VerticalAlignment="Top" Width="227" Click="button_Click"/>
                    <Button x:Name="CleanReBin"         Content="Clean Recycle Bin"              Style="{StaticResource SecondaryButton}" HorizontalAlignment="Left" Margin="119,75,0,0" VerticalAlignment="Top" Width="400" Click="button_Click"/>
                    <Button x:Name="DelTmpFls"          Content="Delete temporary files"         Style="{StaticResource SecondaryButton}" HorizontalAlignment="Left" Margin="532,75,0,0" VerticalAlignment="Top" Width="400" Click="button_Click"/>
                    <Button x:Name="ApplyUpdatePreset"  Content="Enable custom Windows Update presets" Style="{StaticResource SecondaryButton}" HorizontalAlignment="Left" Margin="119,106,0,0" VerticalAlignment="Top" Width="400" Click="button_Click"/>
                    <Button x:Name="RepairChoco"       Content="Repair/Update Chocolatey"        Style="{StaticResource SecondaryButton}" HorizontalAlignment="Left" Margin="532,106,0,0" VerticalAlignment="Top" Width="400" Click="button_Click"/>
                    <Border Background="#3D1A29"
        BorderBrush="#4A2E3A"
        BorderThickness="1"
        CornerRadius="8"
        Margin="13,157,18,211">
                        <Border.Resources>
                            <!-- Checkbox -->
                            <Style TargetType="CheckBox">
                                <Setter Property="Foreground" Value="White"/>
                                <Setter Property="FontSize" Value="16"/>
                                <Setter Property="FontFamily" Value="pack://application:,,,/Fonts/#Poppins"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="CheckBox">
                                            <StackPanel Orientation="Horizontal">
                                                <Border x:Name="Border" 
                            Background="#1A0A0F" 
                            BorderBrush="#6B4C57" 
                            BorderThickness="2" 
                            CornerRadius="4" 
                            Width="18" 
                            Height="18"
                            Margin="0,0,8,0">
                                                    <Grid>
                                                        <Path x:Name="CheckMark" 
                                  Data="M2,6 L6,10 L14,2" 
                                  Stroke="#FF6B4C57" 
                                  StrokeThickness="2" 
                                  Visibility="Collapsed"
                                  StrokeLineJoin="Round"/>
                                                        <TextBlock x:Name="QuestionMark"
                                       Text="?"
                                       Foreground="#FF8B6F7F"
                                       FontWeight="Bold"
                                       FontSize="12"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       Visibility="Collapsed"/>
                                                    </Grid>
                                                </Border>
                                                <ContentPresenter VerticalAlignment="Center" 
                                      TextBlock.Foreground="{TemplateBinding Foreground}"/>
                                            </StackPanel>
                                            <ControlTemplate.Triggers>
                                                <!-- Checked -->
                                                <Trigger Property="IsChecked" Value="True">
                                                    <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                                                    <Setter TargetName="Border" Property="Background" Value="#FF8B6F7F"/>
                                                    <Setter TargetName="QuestionMark" Property="Visibility" Value="Collapsed"/>
                                                </Trigger>
                                                <!-- Indeterminate -->
                                                <Trigger Property="IsChecked" Value="{x:Null}">
                                                    <Setter TargetName="QuestionMark" Property="Visibility" Value="Visible"/>
                                                    <Setter TargetName="Border" Property="Background" Value="#1A0A0F"/>
                                                    <Setter TargetName="CheckMark" Property="Visibility" Value="Collapsed"/>
                                                </Trigger>
                                                <!-- Hover -->
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="Border" Property="BorderBrush" Value="#FF8B6F7F"/>
                                                </Trigger>
                                                <!-- Pressed -->
                                                <Trigger Property="IsPressed" Value="True">
                                                    <Setter TargetName="Border" Property="Background" Value="#FF5A4A57"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Border.Resources>
                        <StackPanel Margin="15">
                            <UniformGrid Columns="3" Rows="0" Margin="0,4,0,0">
                                <CheckBox x:Name="cbClassicContextMenu" IsChecked="{x:Null}" Content="Classic Context Menu"
          IsThreeState="False"
          Checked="ToggleHandler"
          Unchecked="ToggleHandler" Margin="0,8,16,0"/>
                                <CheckBox x:Name="cbPowerThrottling" IsChecked="{x:Null}" Checked="ToggleHandler"
          Unchecked="ToggleHandler"                  Content="Power Throttling" Margin="0,8,16,0"/>
                                <CheckBox x:Name="cbWindowsUpdate" IsChecked="{x:Null}"                    Content="Windows Update" Checked="ToggleHandler"
          Unchecked="ToggleHandler" Margin="0,8,16,0"/>
                                <CheckBox x:Name="cbAnimations" IsChecked="{x:Null}"                        Checked="ToggleHandler"
          Unchecked="ToggleHandler" Content="Visual Effects" Margin="0,8,16,0"/>
                                <CheckBox x:Name="cbDarkTheme" IsChecked="{x:Null}"                          Checked="ToggleHandler"
          Unchecked="ToggleHandler" Content="Dark Theme" Margin="0,8,16,0"/>
                                <CheckBox x:Name="cbWindowsCopilot" IsChecked="{x:Null}"                    Checked="ToggleHandler"
          Unchecked="ToggleHandler" Content="Windows Copilot" Margin="0,8,16,0"/>
                                <CheckBox x:Name="cbShowFileExtensions" IsChecked="{x:Null}"                Checked="ToggleHandler"
          Unchecked="ToggleHandler" Content="Show File Extensions" Margin="0,8,16,0"/>
                                <CheckBox x:Name="cbHibernation" IsChecked="{x:Null}"                       Checked="ToggleHandler"
          Unchecked="ToggleHandler" Content="Hibernation" Margin="0,8,16,0"/>
                                <CheckBox x:Name="cbVerboseLogon" IsChecked="{x:Null}"                      Checked="ToggleHandler"
          Unchecked="ToggleHandler" Content="Verbose logon" Margin="0,8,16,0"/>
                                <CheckBox x:Name="cbGameBar" IsChecked="{x:Null}"                           Checked="ToggleHandler"
          Unchecked="ToggleHandler" Content="Game Mode" Margin="0,8,16,0"/>
                                <CheckBox x:Name="cbExplorerThisPC" IsChecked="{x:Null}"                    Checked="ToggleHandler"
          Unchecked="ToggleHandler" Content="Open File Explorer to This PC" Margin="0,8,16,0"/>
                                <CheckBox x:Name="cbWindowsErrorReporting" IsChecked="{x:Null}"             Checked="ToggleHandler"
          Unchecked="ToggleHandler" Content="Windows Error Reporting" Margin="0,8,16,0"/>
                            </UniformGrid>
                        </StackPanel>
                    </Border>
                    <!-- Log -->
                    <TextBox x:Name="bmLog"
                 HorizontalAlignment="Left"
                 Margin="10,426,0,0"
                 TextWrapping="Wrap"
                 VerticalContentAlignment="Bottom"
                 IsReadOnly="True"
                 Text="Welcome to XtremeShell!"
                 Width="722"
                 Height="118"
                 BorderThickness="0"
                 Background="Transparent"
                 Foreground="White"/>
                    <!-- Bottom card -->
                    <Border Background="#3D1A29" Margin="735,382,10,10" CornerRadius="8">
                        <StackPanel Orientation="Vertical" Margin="10">
                            <Button x:Name="bmNeonity" Content="Neonity" Style="{StaticResource SecondaryButton}" Click="button_Click" Margin="0,0,0,10"/>
                            <Button x:Name="bmRebootUefi" Content="Reboot to UEFI" Style="{StaticResource PrimaryButton}" Click="button_Click" Margin="0,0,0,10"/>
                            <Button x:Name="bmReboot" Content="Reboot" Style="{StaticResource PrimaryButton}" Click="button_Click" Margin="0,0,0,10"/>
                            <Button x:Name="bmExit" Content="Exit" Style="{StaticResource PrimaryButton}" Click="button_Click"/>
                        </StackPanel>
                    </Border>
                    <Button x:Name="installEdge" Content="Undo Edge Redirections" Style="{StaticResource SecondaryButton}" HorizontalAlignment="Left" Margin="319,12,0,0" VerticalAlignment="Top" Width="200" Click="button_Click"/>
                    <Button x:Name="installVencord"         Content="Install Vencord"                   Style="{StaticResource SecondaryButton}" HorizontalAlignment="Left" Margin="764,44,0,0" VerticalAlignment="Top" Width="168" Click="button_Click"/>
                </Grid>
            </TabItem>
            <TabItem Header="Remove Apps">
                <Grid Background="#290914" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <!-- Header -->
                    <Border Grid.Row="0" Background="#3D1A29" Margin="10,10,10,5" CornerRadius="8">
                        <Grid Margin="15,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0" Orientation="Horizontal">
                                <TextBlock Text="📦" FontSize="24" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <TextBlock Text="Installed Applications" 
                              FontSize="20" 
                              FontWeight="Bold" 
                              Foreground="White" 
                              VerticalAlignment="Center"/>
                                <TextBlock x:Name="PackageCountText" 
                              Text="(Loading...)" 
                              FontSize="14" 
                              Foreground="#B0B0B0" 
                              VerticalAlignment="Center" 
                              Margin="10,0,0,0"/>
                            </StackPanel>
                            <Border Grid.Column="1" 
                       Background="#2A1219" 
                       BorderBrush="#4A2E3A" 
                       BorderThickness="1" 
                       CornerRadius="6" 
                       MinWidth="200"
                       Height="32">
                                <Grid>
                                    <TextBox x:Name="SearchTextBox" 
                                Background="Transparent" 
                                Foreground="White" 
                                CaretBrush="White"
                                SelectionBrush="#FF8B6F7F"
                                SelectionTextBrush="White"
                                BorderThickness="0" 
                                Padding="8,6" 
                                FontSize="14"
                                VerticalAlignment="Center"
                                TextChanged="SearchTextBox_TextChanged">
                                        <TextBox.Style>
                                            <Style TargetType="{x:Type TextBox}">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type TextBox}">
                                                            <ScrollViewer x:Name="PART_ContentHost" 
                                                             Background="Transparent" 
                                                             VerticalAlignment="Center"/>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                    <TextBlock x:Name="SearchPlaceholder" 
                                  Text="Search" 
                                  Foreground="#8B6F7F" 
                                  FontSize="14" 
                                  VerticalAlignment="Center" 
                                  Margin="8,0" 
                                  IsHitTestVisible="False"/>
                                </Grid>
                            </Border>
                        </Grid>
                    </Border>
                    <!-- Package List -->
                    <Border Grid.Row="1" Background="#1A0A0F" Margin="10,5,10,5" CornerRadius="8" BorderBrush="#4A2E3A" BorderThickness="1">
                        <Grid>
                            <ListView x:Name="PackageList" 
                         Background="Transparent" 
                         BorderThickness="0" 
                         ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                         ScrollViewer.VerticalScrollBarVisibility="Auto"
                         ScrollViewer.CanContentScroll="True"
                         Margin="10">
                                <ListView.Resources>
                                    <!-- Custom ScrollBar Style -->
                                    <Style x:Key="CustomScrollBar" TargetType="{x:Type ScrollBar}">
                                        <Setter Property="Stylus.IsPressAndHoldEnabled" Value="false"/>
                                        <Setter Property="Stylus.IsFlicksEnabled" Value="false"/>
                                        <Setter Property="Width" Value="12"/>
                                        <Setter Property="MinWidth" Value="12"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type ScrollBar}">
                                                    <Border Background="#2A1219" CornerRadius="6" Margin="2">
                                                        <Track x:Name="PART_Track" IsDirectionReversed="True" Focusable="False">
                                                            <Track.Thumb>
                                                                <Thumb>
                                                                    <Thumb.Style>
                                                                        <Style TargetType="{x:Type Thumb}">
                                                                            <Setter Property="Template">
                                                                                <Setter.Value>
                                                                                    <ControlTemplate TargetType="{x:Type Thumb}">
                                                                                        <Border Background="#6B4C57" 
                                                                                   CornerRadius="6" 
                                                                                   Margin="1">
                                                                                            <Border.Style>
                                                                                                <Style TargetType="{x:Type Border}">
                                                                                                    <Style.Triggers>
                                                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                                                            <Setter Property="Background" Value="#8B6F7F"/>
                                                                                                        </Trigger>
                                                                                                    </Style.Triggers>
                                                                                                </Style>
                                                                                            </Border.Style>
                                                                                        </Border>
                                                                                    </ControlTemplate>
                                                                                </Setter.Value>
                                                                            </Setter>
                                                                        </Style>
                                                                    </Thumb.Style>
                                                                </Thumb>
                                                            </Track.Thumb>
                                                        </Track>
                                                    </Border>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                    <!-- scrollbar -->
                                    <Style TargetType="{x:Type ScrollViewer}">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type ScrollViewer}">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <ScrollContentPresenter Grid.Column="0"/>
                                                        <ScrollBar Grid.Column="1" 
                                                      x:Name="PART_VerticalScrollBar" 
                                                      Value="{TemplateBinding VerticalOffset}" 
                                                      Maximum="{TemplateBinding ScrollableHeight}" 
                                                      ViewportSize="{TemplateBinding ViewportHeight}" 
                                                      Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"
                                                      Style="{StaticResource CustomScrollBar}"/>
                                                    </Grid>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListView.Resources>
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="{x:Type ListViewItem}">
                                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                        <Setter Property="Padding" Value="0"/>
                                        <Setter Property="Margin" Value="0"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="BorderThickness" Value="0"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                    <ContentPresenter/>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListView.ItemContainerStyle>
                                <ListView.ItemTemplate>
                                    <DataTemplate>
                                        <Border Background="#2A1219" 
                                   Margin="0,2" 
                                   CornerRadius="6" 
                                   BorderBrush="#4A2E3A" 
                                   BorderThickness="1">
                                            <Border.Style>
                                                <Style TargetType="{x:Type Border}">
                                                    <Style.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter Property="Background" Value="#3D1F2A"/>
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Border.Style>
                                            <Grid Margin="12,8">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <CheckBox Grid.Column="0" 
                                             IsChecked="{Binding IsSelected}" 
                                             VerticalAlignment="Center"
                                             Margin="0,0,12,0">
                                                    <CheckBox.Style>
                                                        <Style TargetType="{x:Type CheckBox}">
                                                            <Setter Property="Foreground" Value="White"/>
                                                            <Setter Property="Template">
                                                                <Setter.Value>
                                                                    <ControlTemplate TargetType="{x:Type CheckBox}">
                                                                        <Border x:Name="Border" 
                                                                   Background="#1A0A0F" 
                                                                   BorderBrush="#6B4C57" 
                                                                   BorderThickness="2" 
                                                                   CornerRadius="4" 
                                                                   Width="18" 
                                                                   Height="18">
                                                                            <Path x:Name="CheckMark" 
                                                                     Data="M2,6 L6,10 L14,2" 
                                                                     Stroke="#FF6B4C57" 
                                                                     StrokeThickness="2" 
                                                                     Visibility="Collapsed"
                                                                     StrokeLineJoin="Round"
                                                                     StrokeStartLineCap="Round"
                                                                     StrokeEndLineCap="Round"/>
                                                                        </Border>
                                                                        <ControlTemplate.Triggers>
                                                                            <Trigger Property="IsChecked" Value="True">
                                                                                <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                                                                                <Setter TargetName="Border" Property="Background" Value="#FF8B6F7F"/>
                                                                            </Trigger>
                                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                                <Setter TargetName="Border" Property="BorderBrush" Value="#FF8B6F7F"/>
                                                                            </Trigger>
                                                                        </ControlTemplate.Triggers>
                                                                    </ControlTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                        </Style>
                                                    </CheckBox.Style>
                                                </CheckBox>
                                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                                    <TextBlock Text="{Binding DisplayName}" 
                                                  FontSize="14" 
                                                  FontWeight="SemiBold" 
                                                  Foreground="White" 
                                                  TextTrimming="CharacterEllipsis"/>
                                                    <TextBlock Text="{Binding Publisher}" 
                                                  FontSize="11" 
                                                  Foreground="#B0B0B0" 
                                                  TextTrimming="CharacterEllipsis"
                                                  Margin="0,2,0,0"/>
                                                </StackPanel>
                                                <TextBlock Grid.Column="2" 
                                              Text="{Binding Version}" 
                                              FontSize="11" 
                                              Foreground="#8B6F7F" 
                                              VerticalAlignment="Center"
                                              Margin="8,0,0,0"/>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </ListView.ItemTemplate>
                            </ListView>
                            <!-- Loading indicator -->
                            <Border x:Name="LoadingPanel" 
                       Background="#AA1A0A0F" 
                       Visibility="Visible">
                                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <TextBlock Text="⏳" FontSize="32" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                    <TextBlock Text="Loading installed applications..." 
                                  FontSize="16" 
                                  Foreground="White" 
                                  HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                        </Grid>
                    </Border>
                    <!-- Control Panel -->
                    <Border Grid.Row="2" Background="#3D1A29" Margin="10,5,10,10" CornerRadius="8">
                        <Grid Margin="15,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                                <CheckBox x:Name="SelectAllCheckBox" 
                             Content="Select All" 
                             Foreground="White" 
                             VerticalAlignment="Center"
                             Checked="SelectAllCheckBox_Checked"
                             Unchecked="SelectAllCheckBox_Unchecked">
                                    <CheckBox.Style>
                                        <Style TargetType="{x:Type CheckBox}">
                                            <Setter Property="Foreground" Value="White"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type CheckBox}">
                                                        <StackPanel Orientation="Horizontal">
                                                            <Border x:Name="Border" 
                                                       Background="#1A0A0F" 
                                                       BorderBrush="#6B4C57" 
                                                       BorderThickness="2" 
                                                       CornerRadius="4" 
                                                       Width="18" 
                                                       Height="18"
                                                       Margin="0,0,8,0">
                                                                <Grid>
                                                                    <!-- Check mark for checked state -->
                                                                    <Path x:Name="CheckMark" 
                                                             Data="M2,6 L6,10 L14,2" 
                                                             Stroke="#FF6B4C57" 
                                                             StrokeThickness="2" 
                                                             Visibility="Collapsed"
                                                             StrokeLineJoin="Round"/>
                                                                    <!-- Dash for indeterminate state -->
                                                                    <Path x:Name="IndeterminateMark" 
                                                             Data="M3,8 L13,8" 
                                                             Stroke="#FF8B6F7F" 
                                                             StrokeThickness="3" 
                                                             Visibility="Collapsed"/>
                                                                </Grid>
                                                            </Border>
                                                            <ContentPresenter VerticalAlignment="Center" 
                                                                 TextBlock.Foreground="{TemplateBinding Foreground}"/>
                                                        </StackPanel>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsChecked" Value="True">
                                                                <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Border" Property="Background" Value="#FF8B6F7F"/>
                                                            </Trigger>
                                                            <Trigger Property="IsChecked" Value="{x:Null}">
                                                                <Setter TargetName="IndeterminateMark" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Border" Property="Background" Value="#FF6B4C57"/>
                                                            </Trigger>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter TargetName="Border" Property="BorderBrush" Value="#FF8B6F7F"/>
                                                            </Trigger>
                                                            <Trigger Property="IsPressed" Value="True">
                                                                <Setter TargetName="Border" Property="Background" Value="#FF5A4A57"/>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </CheckBox.Style>
                                </CheckBox>
                                <TextBlock x:Name="SelectedCountText" 
                              Text="0 selected" 
                              Foreground="#B0B0B0" 
                              VerticalAlignment="Center" 
                              Margin="15,0,0,0"/>
                            </StackPanel>
                            <Border Grid.Column="1" 
                       Background="#4A2E3A" 
                       BorderBrush="#6B4C57" 
                       BorderThickness="1" 
                       CornerRadius="4"
                       MinWidth="90"
                       Margin="0,0,10,0">
                                <Button Content="Refresh" 
                           Background="Transparent" 
                           Foreground="White" 
                           BorderThickness="0" 
                           Padding="16,10" 
                           Click="RefreshButton_Click">
                                    <Button.Style>
                                        <Style TargetType="{x:Type Button}">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type Button}">
                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter Property="Background" Value="#5A3E4A"/>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </Button.Style>
                                </Button>
                            </Border>
                            <Border Grid.Column="2" 
                       x:Name="RemoveButtonBorder"
                       Background="#8B2635" 
                       BorderBrush="#A53D4A" 
                       BorderThickness="1" 
                       CornerRadius="4">
                                <Button x:Name="RemoveButton"
                           Content="Remove Selected" 
                           Background="Transparent" 
                           Foreground="White" 
                           BorderThickness="0" 
                           Padding="16,10" 
                           IsEnabled="False"
                           Click="RemoveButton_Click"
                                        MinWidth="180">
                                    <Button.Style>
                                        <Style TargetType="{x:Type Button}">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type Button}">
                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </Button.Style>
                                </Button>
                            </Border>
                        </Grid>
                    </Border>
                </Grid>
            </TabItem>
            <TabItem x:Name="PackageStoreTab" Header="Package Store">
                <Grid Background="#290914" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <!-- Header -->
                    <Border Grid.Row="0" Background="#3D1A29" Margin="10,10,10,5" CornerRadius="8">
                        <Grid Margin="15,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0" Orientation="Horizontal">
                                <TextBlock Text="Package Store" 
                  FontSize="20" 
                  FontWeight="Bold" 
                  Foreground="White" 
                  VerticalAlignment="Center"/>
                                <TextBlock x:Name="InstallPackageCountText" 
                  Text="(Search to browse)" 
                  FontSize="14" 
                  Foreground="#B0B0B0" 
                  VerticalAlignment="Center" 
                  Margin="10,0,0,0"/>
                            </StackPanel>
                            <Border Grid.Column="1" 
           Background="#2A1219" 
           BorderBrush="#4A2E3A" 
           BorderThickness="1" 
           CornerRadius="6" 
           MinWidth="250"
           Height="32">
                                <Grid>
                                    <TextBox x:Name="InstallSearchTextBox" 
                    Background="Transparent" 
                    Foreground="White" 
                    CaretBrush="White"
                    SelectionBrush="#FF8B6F7F"
                    SelectionTextBrush="White"
                    BorderThickness="0" 
                    Padding="8,6" 
                    FontSize="14"
                    VerticalAlignment="Center"
                    TextChanged="InstallSearchTextBox_TextChanged">
                                        <TextBox.Style>
                                            <Style TargetType="{x:Type TextBox}">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type TextBox}">
                                                            <ScrollViewer x:Name="PART_ContentHost" 
                                                 Background="Transparent" 
                                                 VerticalAlignment="Center"/>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                    <TextBlock x:Name="InstallSearchPlaceholder" 
                      Text="Search" 
                      Foreground="#8B6F7F" 
                      FontSize="14" 
                      VerticalAlignment="Center" 
                      Margin="8,0" 
                      IsHitTestVisible="False"/>
                                </Grid>
                            </Border>
                        </Grid>
                    </Border>
                    <!-- Package List -->
                    <Border Grid.Row="1" Background="#1A0A0F" Margin="10,5,10,5" CornerRadius="8" BorderBrush="#4A2E3A" BorderThickness="1">
                        <Grid>
                            <ListView x:Name="InstallPackageList" 
             Background="Transparent" 
             BorderThickness="0" 
             ScrollViewer.HorizontalScrollBarVisibility="Disabled"
             ScrollViewer.VerticalScrollBarVisibility="Auto"
             ScrollViewer.CanContentScroll="True"
             Margin="10">
                                <ListView.Resources>
                                    <!-- scrollbar -->
                                    <Style x:Key="CustomScrollBar" TargetType="{x:Type ScrollBar}">
                                        <Setter Property="Stylus.IsPressAndHoldEnabled" Value="false"/>
                                        <Setter Property="Stylus.IsFlicksEnabled" Value="false"/>
                                        <Setter Property="Width" Value="12"/>
                                        <Setter Property="MinWidth" Value="12"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type ScrollBar}">
                                                    <Border Background="#2A1219" CornerRadius="6" Margin="2">
                                                        <Track x:Name="PART_Track" IsDirectionReversed="True" Focusable="False">
                                                            <Track.Thumb>
                                                                <Thumb>
                                                                    <Thumb.Style>
                                                                        <Style TargetType="{x:Type Thumb}">
                                                                            <Setter Property="Template">
                                                                                <Setter.Value>
                                                                                    <ControlTemplate TargetType="{x:Type Thumb}">
                                                                                        <Border Background="#6B4C57" 
                                                                       CornerRadius="6" 
                                                                       Margin="1">
                                                                                            <Border.Style>
                                                                                                <Style TargetType="{x:Type Border}">
                                                                                                    <Style.Triggers>
                                                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                                                            <Setter Property="Background" Value="#8B6F7F"/>
                                                                                                        </Trigger>
                                                                                                    </Style.Triggers>
                                                                                                </Style>
                                                                                            </Border.Style>
                                                                                        </Border>
                                                                                    </ControlTemplate>
                                                                                </Setter.Value>
                                                                            </Setter>
                                                                        </Style>
                                                                    </Thumb.Style>
                                                                </Thumb>
                                                            </Track.Thumb>
                                                        </Track>
                                                    </Border>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                    <!-- scrollbar -->
                                    <Style TargetType="{x:Type ScrollViewer}">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type ScrollViewer}">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <ScrollContentPresenter Grid.Column="0"/>
                                                        <ScrollBar Grid.Column="1" 
                                          x:Name="PART_VerticalScrollBar" 
                                          Value="{TemplateBinding VerticalOffset}" 
                                          Maximum="{TemplateBinding ScrollableHeight}" 
                                          ViewportSize="{TemplateBinding ViewportHeight}" 
                                          Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"
                                          Style="{StaticResource CustomScrollBar}"/>
                                                    </Grid>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListView.Resources>
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="{x:Type ListViewItem}">
                                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                        <Setter Property="Padding" Value="0"/>
                                        <Setter Property="Margin" Value="0"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="BorderThickness" Value="0"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                    <ContentPresenter/>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListView.ItemContainerStyle>
                                <ListView.ItemTemplate>
                                    <DataTemplate>
                                        <Border Background="#2A1219" 
                       Margin="0,2" 
                       CornerRadius="6" 
                       BorderBrush="#4A2E3A" 
                       BorderThickness="1">
                                            <Border.Style>
                                                <Style TargetType="{x:Type Border}">
                                                    <Style.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter Property="Background" Value="#3D1F2A"/>
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Border.Style>
                                            <Grid Margin="12,10">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                                    <TextBlock Text="{Binding Title}" 
                                      FontSize="14" 
                                      FontWeight="SemiBold" 
                                      Foreground="White" 
                                      TextTrimming="CharacterEllipsis"/>
                                                    <TextBlock Text="{Binding Authors}" 
                                      FontSize="11" 
                                      Foreground="#B0B0B0" 
                                      TextTrimming="CharacterEllipsis"
                                      Margin="0,2,0,0"/>
                                                    <TextBlock Text="{Binding Summary}" 
                                      FontSize="10" 
                                      Foreground="#8B6F7F" 
                                      TextTrimming="CharacterEllipsis"
                                      Margin="0,2,0,0"
                                      MaxWidth="400"/>
                                                </StackPanel>
                                                <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="10,0">
                                                    <TextBlock Text="{Binding Version}" 
                                      FontSize="11" 
                                      Foreground="#8B6F7F" 
                                      HorizontalAlignment="Right"/>
                                                    <TextBlock Text="{Binding DownloadCount, StringFormat=\{0:N0\} downloads}" 
                                      FontSize="9" 
                                      Foreground="#6B4C57" 
                                      HorizontalAlignment="Right"
                                      Margin="0,2,0,0"/>
                                                </StackPanel>
                                                <Border Grid.Column="2" 
                               Background="#2D5A2D" 
                               BorderBrush="#4A8B4A" 
                               BorderThickness="1" 
                               CornerRadius="4"
                               Margin="10,0,0,0">
                                                    <Button Content="{Binding ButtonText}" 
                                   Background="Transparent" 
                                   Foreground="White" 
                                   BorderThickness="0" 
                                   Padding="12,6" 
                                   MinWidth="80"
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   IsEnabled="{Binding IsButtonEnabled}"
                                   Click="InstallSelectButton_Click"
                                   Tag="{Binding}">
                                                        <Button.Style>
                                                            <Style TargetType="{x:Type Button}">
                                                                <Setter Property="Template">
                                                                    <Setter.Value>
                                                                        <ControlTemplate TargetType="{x:Type Button}">
                                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                        </ControlTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Style.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Background" Value="#3D6A3D"/>
                                                                    </Trigger>
                                                                    <Trigger Property="IsEnabled" Value="False">
                                                                        <Setter Property="Foreground" Value="#6B6B6B"/>
                                                                    </Trigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Button.Style>
                                                    </Button>
                                                </Border>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </ListView.ItemTemplate>
                            </ListView>
                            <!-- Loading indicator -->
                            <Border x:Name="InstallLoadingPanel" 
           Background="#AA1A0A0F" 
           Visibility="Collapsed">
                                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <TextBlock Text="⏳" FontSize="32" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                    <TextBlock x:Name="InstallLoadingText" 
                      Text="Searching packages..." 
                      FontSize="16" 
                      Foreground="White" 
                      HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                            <!-- Empty state -->
                            <Border x:Name="InstallEmptyStatePanel" 
           Background="Transparent" 
           Visibility="Visible">
                                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <TextBlock Text="📦" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,15"/>
                                    <TextBlock Text="Search for packages to install" 
                      FontSize="18" 
                      Foreground="#B0B0B0" 
                      HorizontalAlignment="Center"
                      Margin="0,0,0,5"/>
                                    <TextBlock Text="Try searching for packages like brave, git, or vscodium" 
                      FontSize="14" 
                      Foreground="#8B6F7F" 
                      HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                        </Grid>
                    </Border>
                    <!-- Control Panel -->
                    <Border Grid.Row="2" Background="#3D1A29" Margin="10,5,10,10" CornerRadius="8">
                        <Grid Margin="15,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                                <CheckBox x:Name="InstallSelectAllCheckBox" 
                 Content="Select All" 
                 Foreground="White" 
                 VerticalAlignment="Center"
                 Checked="InstallSelectAllCheckBox_Checked"
                 Unchecked="InstallSelectAllCheckBox_Unchecked">
                                    <CheckBox.Style>
                                        <Style TargetType="{x:Type CheckBox}">
                                            <Setter Property="Foreground" Value="White"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type CheckBox}">
                                                        <StackPanel Orientation="Horizontal"/>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsChecked" Value="True"/>
                                                            <Trigger Property="IsChecked" Value="{x:Null}"/>
                                                            <Trigger Property="IsMouseOver" Value="True"/>
                                                            <Trigger Property="IsPressed" Value="True"/>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </CheckBox.Style>
                                </CheckBox>
                                <TextBlock x:Name="InstallSelectedCountText" 
                  Text="0 selected" 
                  Foreground="#B0B0B0" 
                  />
                            </StackPanel>
                            <Border Grid.Column="1" 
           Background="#4A2E3A" 
           BorderBrush="#6B4C57" 
           BorderThickness="1" 
           CornerRadius="4"
           MinWidth="90"
           Margin="0,0,10,0">
                                <Button Content="Clear" 
               Background="Transparent" 
               Foreground="White" 
               BorderThickness="0" 
               Padding="16,10" 
               Click="InstallClearButton_Click">
                                    <Button.Style>
                                        <Style TargetType="{x:Type Button}">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type Button}">
                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter Property="Background" Value="#5A3E4A"/>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </Button.Style>
                                </Button>
                            </Border>
                            <Border Grid.Column="2" 
           x:Name="InstallButtonBorder"
           Background="#2D6B2D" 
           BorderBrush="#4A8B4A" 
           BorderThickness="1" 
           CornerRadius="4">
                                <Button x:Name="InstallButton"
               Content="Install Selected" 
               Background="Transparent" 
               Foreground="White" 
               BorderThickness="0" 
               Padding="16,10" 
               IsEnabled="False"
               Click="InstallButton_Click"
               MinWidth="180">
                                    <Button.Style>
                                        <Style TargetType="{x:Type Button}">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type Button}">
                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Background" Value="#3D7A3D"/>
                                                </Trigger>
                                                <Trigger Property="IsEnabled" Value="False">
                                                    <Setter Property="Foreground" Value="#6B6B6B"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Button.Style>
                                </Button>
                            </Border>
                        </Grid>
                    </Border>
                </Grid>
            </TabItem>
        </TabControl>
        <Image x:Name="xsBanner" HorizontalAlignment="Left" Height="41" Margin="671,23,0,0" VerticalAlignment="Top" Width="258" Source="/banner.png"/>
        <Label x:Name="xsVersion" Content="5.1" HorizontalAlignment="Left" Margin="929,23,0,0" VerticalAlignment="Top" Foreground="White" FontSize="24" FontWeight="Bold" MouseLeftButtonUp="xsVersion_Click"/>
    </Grid>
</Window>
